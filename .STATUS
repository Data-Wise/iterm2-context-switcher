project: aiterm (formerly iterm2-context-switcher)
status: active
priority: P1
progress: 0
version: 0.2.0-dev
updated: 2025-12-18
next: Plan v0.2.0 hook management system

# What it is
Terminal optimizer CLI for AI-assisted development.
Optimizes iTerm2 (+ other terminals) for Claude Code and Gemini CLI.
Manages profiles, hooks, commands, context detection, and auto-approvals.

# Project Evolution
v2.5.0 (Dec 15): iterm2-context-switcher (zsh-based, iTerm2 only)
v3.0.0 (Dec 15): aiterm (Python CLI, multi-tool, expandable)
v0.1.0-dev (Dec 16-18): First Python release - SHIPPED âœ…
v0.2.0-dev (Dec 18+): Hook management & MCP integration

# v0.1.0-dev Summary

## Installation
```bash
# Recommended (uv)
uv tool install git+https://github.com/Data-Wise/iterm2-context-switcher

# Alternative (pipx)
pipx install git+https://github.com/Data-Wise/iterm2-context-switcher
```

## Features Implemented
- Context Detection: 8 types (production, ai-session, rpkg, python, node, quarto, emacs, dev-tools)
- Claude Integration: settings viewer, backup, 8 auto-approval presets
- CLI Commands: init, doctor, detect, switch, context, profile, claude
- Test Suite: 51 tests, 83% coverage

## Tech Stack
- Python 3.10+, Typer, Rich, pytest
- Distribution: uv/pipx/PyPI

# Completed Phases

## âœ… Phase 8: Final Polish & Release Prep (Dec 16)
- Updated README with uv/pipx installation
- Updated CHANGELOG with v0.1.0-dev release notes
- Updated planning docs (ROADMAP, IDEAS, ARCHITECTURE)
- Branch ready for PR

## âœ… Phase 7: Testing & Documentation (Dec 16)
- 51 tests passing, 83% coverage
- README updated with all commands
- CHANGELOG updated with release notes

## âœ… Phase 6: Claude Settings Management (Dec 16)
- `aiterm claude settings` - show settings
- `aiterm claude backup` - backup with timestamp
- `aiterm claude approvals list/presets/add`
- 8 presets: safe-reads, git-ops, github-cli, python-dev, node-dev, r-dev, web-tools, minimal

## âœ… Phase 5: Terminal Integration (Dec 16)
- Ported zsh/iterm2-integration.zsh to Python
- Context detection: 8 types with icons and profiles
- iTerm2 module: profile switching, title, user variables

## âœ… Phase 4: Python Project Structure (Dec 16-18)
- pyproject.toml with hatchling (uv-compatible) âœ… Dec 18
- src/aiterm/ package (cli, terminal, context, claude, utils)
- Typer + Rich CLI
- UV virtual environment setup (10-100x faster than pip)

## âœ… Phase 3: Slash Commands (Dec 16)
- 6 hub commands, 5 archived
- 40% reduction (10 â†’ 6 commands)

## âœ… Phase 1-2: Settings & Docs Cleanup (Dec 15)
- Cleaned settings.local.json (95% reduction)
- Consolidated documentation

# Known Issues

## StatusLine Bug in Claude Code v2.0.70
**Status:** Documented (STATUSLINE-BUG.md)
**Impact:** Low (does not affect aiterm functionality)
**Description:** Claude Code v2.0.70 (current brew version) does not pass JSON to statusLine scripts via stdin. The statusline-p10k.sh script is correctly implemented but cannot receive session data from Claude Code.
**Workaround:** None until Claude Code updates
**Note:** This bug was discovered during v0.1.0-dev release prep. The statusLine script itself is production-ready and will work once Claude Code is updated.

# v0.1.0-dev Release (COMPLETE âœ…)
1. âœ… Tag created: v0.1.0-dev (merged to main and dev)
2. âœ… GitHub release published: https://github.com/Data-Wise/iterm2-context-switcher/releases/tag/v0.1.0-dev
3. âœ… StatusLine bug documented in known issues

# v0.2.0-dev Planning

## ðŸŽ¯ Next Actions

**A) Planning Phase (Start here)** âš¡ 30-45 min
   - Design hook management CLI interface
   - Plan hook template system
   - Map 9 hook types to aiterm commands

**B) Hook Discovery & Status** ðŸ”§ 2-3 hours
   - `ait hooks list` - Show installed hooks
   - `ait hooks status` - Health check
   - Read hooks from ~/.claude/hooks/

**C) Hook Installation** ðŸ”§ 3-4 hours
   - `ait hooks install <preset>` - Install hook templates
   - Template library (session-start, pre-commit, cost-tracker, etc.)
   - Interactive hook configuration

## Priority Features (v0.2.0)
1. **Hook Management System** (9 hook types)
   - SessionStart, SessionEnd, UserPromptSubmit, Stop
   - PreApprove, PreCommit, PrePush, CostTracker, Custom
2. **MCP Server Integration** (discovery, config, testing)
3. **StatusLine Builder** (interactive generator, themes, preview)

# Links
repo: https://github.com/Data-Wise/iterm2-context-switcher
docs: https://data-wise.github.io/iterm2-context-switcher/
PR: https://github.com/Data-Wise/iterm2-context-switcher/compare/dev...claude/recap-dev-main-branches-3eCZB
