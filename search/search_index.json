{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"iTerm2 Context Switcher","text":"<p>Smart context switching for iTerm2 with auto-profile switching and tab titles.</p>"},{"location":"#what-it-does","title":"What It Does","text":"<p>Automatically switches iTerm2 profiles (colors) and sets tab titles based on your current directory:</p> Context Icon Profile Detection Production Production <code>*/production/*</code> or <code>*/prod/*</code> AI Sessions AI-Session <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code> R Package R-Dev <code>DESCRIPTION</code> file Python Python-Dev <code>pyproject.toml</code> file Node.js Node-Dev <code>package.json</code> file Quarto Default <code>_quarto.yml</code> file Emacs Default <code>Cask</code>, <code>.dir-locals.el</code>, <code>init.el</code> Dev-Tools Default <code>commands/</code> directory"},{"location":"#features","title":"Features","text":"<ul> <li> Auto-switch profiles by directory context</li> <li> Tab titles with icons (\ud83d\udce6 medfit, \ud83d\udc0d myproject)</li> <li> Production environment warnings (\ud83d\udea8)</li> <li> Caches state to prevent redundant switches</li> <li> No conflicts with other shell hooks</li> <li> Zero configuration after setup</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Add to ~/.config/zsh/.zshrc\nDISABLE_AUTO_TITLE=\"true\"\n\nsource ~/projects/dev-tools/iterm2-context-switcher/zsh/iterm2-integration.zsh\n</code></pre> <p>Then reload your shell:</p> <pre><code>source ~/.config/zsh/.zshrc\n</code></pre> <p>See the Installation Guide for detailed setup.</p>"},{"location":"#how-it-works","title":"How It Works","text":"<p>When you <code>cd</code> into a directory, the integration:</p> <ol> <li>Detects context - Checks for project files (DESCRIPTION, pyproject.toml, etc.)</li> <li>Switches profile - Changes iTerm2 colors via escape sequence</li> <li>Sets title - Updates tab title with icon + project name</li> </ol> <p>All changes are cached to prevent redundant switches.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>iTerm2 (macOS terminal)</li> <li>Zsh shell</li> <li>Git repository for your project</li> </ul>"},{"location":"getting-started/installation/#step-1-create-iterm2-profiles","title":"Step 1: Create iTerm2 Profiles","text":"<p>Open iTerm2 \u2192 Settings \u2192 Profiles, and create these profiles:</p> Profile Purpose Suggested Colors Default Fallback Your default R-Dev R packages Green background Python-Dev Python projects Green/jungle Node-Dev Node.js projects Dark theme AI-Session Claude/Gemini work Purple Production Production servers Red (warning) <p>Dynamic Profiles</p> <p>Python-Dev and Node-Dev can be auto-installed via Dynamic Profiles. Copy <code>profiles/context-switcher-profiles.json</code> to: <pre><code>~/Library/Application Support/iTerm2/DynamicProfiles/\n</code></pre></p>"},{"location":"getting-started/installation/#step-2-configure-shell","title":"Step 2: Configure Shell","text":"<p>Add to <code>~/.config/zsh/.zshrc</code> (or <code>~/.zshrc</code>):</p> <pre><code># Disable OMZ auto-title (we set our own)\nDISABLE_AUTO_TITLE=\"true\"\n\n# iTerm2 Smart Context Switching\n[[ -f ~/path/to/iterm2-context-switcher/zsh/iterm2-integration.zsh ]] &amp;&amp; \\\n  source ~/path/to/iterm2-context-switcher/zsh/iterm2-integration.zsh\n</code></pre> <p>DISABLE_AUTO_TITLE</p> <p>This must be set before Oh My Zsh or Antidote loads, otherwise OMZ will override your tab titles.</p>"},{"location":"getting-started/installation/#step-3-configure-iterm2-title","title":"Step 3: Configure iTerm2 Title","text":"<ol> <li>Open iTerm2 \u2192 Settings \u2192 Profiles \u2192 General</li> <li>Set Title to: <code>Session Name</code> (or <code>Session Name + Job</code>)</li> </ol>"},{"location":"getting-started/installation/#step-4-reload-shell","title":"Step 4: Reload Shell","text":"<pre><code>source ~/.config/zsh/.zshrc\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>cd ~/some/r-package   # Should show \ud83d\udce6 + green background\ncd ~                   # Should return to default\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get up and running in 2 minutes.</p>"},{"location":"getting-started/quickstart/#minimal-setup","title":"Minimal Setup","text":"<pre><code># 1. Add to your .zshrc\necho 'DISABLE_AUTO_TITLE=\"true\"' &gt;&gt; ~/.zshrc\necho 'source ~/path/to/iterm2-context-switcher/zsh/iterm2-integration.zsh' &gt;&gt; ~/.zshrc\n\n# 2. Reload\nsource ~/.zshrc\n\n# 3. Test\ncd ~/your/r-package\n# Tab should show: \ud83d\udce6 package-name\n</code></pre>"},{"location":"getting-started/quickstart/#what-youll-see","title":"What You'll See","text":"When you <code>cd</code> to... Title shows Profile R package (has DESCRIPTION) \ud83d\udce6 pkgname R-Dev (green) Python project \ud83d\udc0d dirname Python-Dev Node project \ud83d\udce6 pkgname Node-Dev Quarto project \ud83d\udcca dirname Default Emacs project \u26a1 dirname Default Dev tools \ud83d\udd27 dirname Default Production folder \ud83d\udea8 dirname Production (red)"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Full Installation - Create all profiles</li> <li>Context Detection - How detection works</li> <li>Triggers - Claude Code notifications</li> </ul>"},{"location":"guide/context-detection/","title":"Context Detection","text":"<p>How the switcher detects your project type.</p>"},{"location":"guide/context-detection/#detection-priority","title":"Detection Priority","text":"<p>Contexts are checked in this order (first match wins):</p> <pre><code>1. \ud83d\udea8 Production   (path)     \u2500\u2510\n2. \ud83e\udd16 AI-Session   (path)      \u2502 Safety first\n3. \ud83d\udce6 R Package    (DESCRIPTION)\u2500\u2510\n4. \ud83d\udc0d Python       (pyproject.toml)\u2502 Language-specific\n5. \ud83d\udce6 Node         (package.json)  \u2500\u2518\n6. \ud83d\udcca Quarto       (_quarto.yml)\u2500\u2510\n7. \u26a1 Emacs        (Cask, etc.)  \u2502 Document/Tool types\n8. \ud83d\udd27 Dev-Tools    (commands/)  \u2500\u2518\n9.    Default      (fallback)\n</code></pre>"},{"location":"guide/context-detection/#detection-methods","title":"Detection Methods","text":""},{"location":"guide/context-detection/#path-based-detection","title":"Path-based Detection","text":"Context Path Pattern Production <code>*/production/*</code> or <code>*/prod/*</code> AI Sessions <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code>"},{"location":"guide/context-detection/#file-based-detection","title":"File-based Detection","text":"Context File/Directory R Package <code>DESCRIPTION</code> file Python <code>pyproject.toml</code> file Node.js <code>package.json</code> file Quarto <code>_quarto.yml</code> file Emacs <code>Cask</code>, <code>.dir-locals.el</code>, <code>init.el</code>, or <code>early-init.el</code> Dev-Tools <code>commands/</code> directory"},{"location":"guide/context-detection/#conflict-resolution","title":"Conflict Resolution","text":"<p>When multiple markers exist, the first match wins:</p> Scenario Winner Why R pkg with Quarto vignettes \ud83d\udce6 R R detected first Python with Makefile \ud83d\udc0d Python Python detected first Quarto in production folder \ud83d\udea8 Production Safety priority"},{"location":"guide/context-detection/#project-name-extraction","title":"Project Name Extraction","text":"<p>For some contexts, the project name is extracted from files:</p> Context Source R Package <code>Package:</code> field in DESCRIPTION Node.js <code>\"name\"</code> field in package.json Quarto <code>title:</code> field in _quarto.yml Others Directory name"},{"location":"guide/profiles/","title":"iTerm2 Profiles","text":"<p>Configure iTerm2 profiles for visual context switching.</p>"},{"location":"guide/profiles/#required-profiles","title":"Required Profiles","text":"Profile Name Purpose Background Color Default Fallback Your preference R-Dev R packages Green (#134F3C) Python-Dev Python projects Green (#137746) Node-Dev Node.js projects Dark (#121212) AI-Session Claude/Gemini Purple Production Production warning Red"},{"location":"guide/profiles/#creating-profiles-manually","title":"Creating Profiles Manually","text":"<ol> <li>Open iTerm2 \u2192 Settings \u2192 Profiles</li> <li>Select \"Default\" \u2192 Click \"+\" to duplicate</li> <li>Rename to profile name (e.g., \"R-Dev\")</li> <li>Customize colors under \"Colors\" tab</li> </ol>"},{"location":"guide/profiles/#using-dynamic-profiles","title":"Using Dynamic Profiles","text":"<p>Dynamic Profiles auto-load from JSON files.</p>"},{"location":"guide/profiles/#install-profiles","title":"Install Profiles","text":"<p>Copy the included profiles:</p> <pre><code>cp profiles/context-switcher-profiles.json \\\n   ~/Library/Application\\ Support/iTerm2/DynamicProfiles/\n</code></pre>"},{"location":"guide/profiles/#included-dynamic-profiles","title":"Included Dynamic Profiles","text":"<ul> <li>Python-Dev - Grass theme (green jungle)</li> <li>Node-Dev - Citruszest theme (dark with yellow accents)</li> </ul>"},{"location":"guide/profiles/#creating-custom-dynamic-profiles","title":"Creating Custom Dynamic Profiles","text":"<p>Create a JSON file in <code>~/Library/Application Support/iTerm2/DynamicProfiles/</code>:</p> <pre><code>{\n  \"Profiles\": [\n    {\n      \"Name\": \"My-Profile\",\n      \"Guid\": \"unique-id-here\",\n      \"Dynamic Profile Parent Name\": \"Default\",\n      \"Background Color\": {\n        \"Red Component\": 0.1,\n        \"Green Component\": 0.1,\n        \"Blue Component\": 0.1\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"guide/profiles/#profile-colors-reference","title":"Profile Colors Reference","text":"Profile Hex RGB R-Dev (green) #134F3C 19, 79, 60 Python-Dev #137746 19, 119, 70 Node-Dev #121212 18, 18, 18 Production #8B0000 139, 0, 0"},{"location":"guide/triggers/","title":"iTerm2 Triggers","text":"<p>Optional triggers for Claude Code notifications.</p>"},{"location":"guide/triggers/#what-are-triggers","title":"What Are Triggers?","text":"<p>iTerm2 triggers watch terminal output and perform actions when patterns match. Use them to get notified when Claude Code needs input.</p>"},{"location":"guide/triggers/#setting-up-triggers","title":"Setting Up Triggers","text":"<ol> <li>Open iTerm2 \u2192 Settings \u2192 Profiles \u2192 Default</li> <li>Go to Advanced tab</li> <li>Click Edit next to Triggers</li> <li>Add triggers below</li> </ol>"},{"location":"guide/triggers/#recommended-triggers","title":"Recommended Triggers","text":""},{"location":"guide/triggers/#notification-when-claude-waiting","title":"Notification When Claude Waiting","text":"Field Value Regular Expression <code>^&gt; $</code> Action Post Notification Parameters <code>Claude waiting for input</code> Instant \u2705 Check"},{"location":"guide/triggers/#bounce-dock-on-permission-prompt","title":"Bounce Dock on Permission Prompt","text":"Field Value Regular Expression <code>(Allow\\|Deny)\\?</code> Action Bounce Dock Icon Parameters (leave empty) Instant \u2705 Check"},{"location":"guide/triggers/#highlight-permission-lines-optional","title":"Highlight Permission Lines (Optional)","text":"Field Value Regular Expression <code>Do you want to</code> Action Highlight Line Parameters (pick yellow) Instant \u2705 Check"},{"location":"guide/triggers/#available-trigger-actions","title":"Available Trigger Actions","text":"Action Description Post Notification macOS notification Bounce Dock Icon Bounces until focused Ring Bell Plays sound Highlight Line Colors the line Highlight Text Colors matched text Set Title Changes tab title Show Alert Popup alert box Run Command Execute shell command"},{"location":"guide/triggers/#inheritance","title":"Inheritance","text":"<p>Triggers set on the Default profile are inherited by child profiles (R-Dev, Python-Dev, etc.) if they use <code>Dynamic Profile Parent Name: Default</code>.</p> <p>Set triggers once on Default, they work everywhere.</p>"},{"location":"reference/configuration/","title":"Configuration Reference","text":""},{"location":"reference/configuration/#shell-configuration","title":"Shell Configuration","text":""},{"location":"reference/configuration/#required-in-zshrc","title":"Required in .zshrc","text":"<pre><code># Must be before Oh My Zsh / Antidote loads\nDISABLE_AUTO_TITLE=\"true\"\n\n# At end of .zshrc\nsource ~/path/to/iterm2-context-switcher/zsh/iterm2-integration.zsh\n</code></pre>"},{"location":"reference/configuration/#environment-variables","title":"Environment Variables","text":"Variable Purpose Default <code>TERM_PROGRAM</code> Must be \"iTerm.app\" Set by iTerm2 <code>DISABLE_AUTO_TITLE</code> Prevent OMZ title override Not set"},{"location":"reference/configuration/#integration-variables","title":"Integration Variables","text":"<p>These are set by the integration (read-only):</p> Variable Purpose <code>_ITERM_CURRENT_PROFILE</code> Currently active profile <code>_ITERM_CURRENT_TITLE</code> Current tab title <code>_ITERM_HOOK_REGISTERED</code> Prevents duplicate hooks"},{"location":"reference/configuration/#iterm2-configuration","title":"iTerm2 Configuration","text":""},{"location":"reference/configuration/#title-settings","title":"Title Settings","text":"<p>Path: Settings \u2192 Profiles \u2192 General \u2192 Title</p> Setting Recommended Title Session Name Alternative Session Name + Job"},{"location":"reference/configuration/#for-triggers","title":"For Triggers","text":"<p>Path: Settings \u2192 Profiles \u2192 Default \u2192 Advanced \u2192 Triggers</p> <p>See Triggers Guide for setup.</p>"},{"location":"reference/configuration/#file-locations","title":"File Locations","text":"File Location Integration script <code>zsh/iterm2-integration.zsh</code> Dynamic Profiles <code>profiles/context-switcher-profiles.json</code> iTerm2 Dynamic Profiles <code>~/Library/Application Support/iTerm2/DynamicProfiles/</code> iTerm2 Preferences <code>~/Library/Preferences/com.googlecode.iterm2.plist</code>"},{"location":"reference/configuration/#escape-sequences-used","title":"Escape Sequences Used","text":"Sequence Purpose <code>\\033]1337;SetProfile=NAME\\007</code> Switch profile <code>\\033]2;TITLE\\007</code> Set window title"},{"location":"reference/troubleshooting/","title":"Troubleshooting","text":""},{"location":"reference/troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"reference/troubleshooting/#profiles-not-switching","title":"Profiles Not Switching","text":"<p>Symptom: Colors don't change when you <code>cd</code> to a project.</p> <p>Check:</p> <ol> <li> <p>Verify you're in iTerm2:    <pre><code>echo $TERM_PROGRAM\n# Should show: iTerm.app\n</code></pre></p> </li> <li> <p>Verify profiles exist (exact names, case-sensitive):</p> </li> <li>R-Dev</li> <li>Python-Dev</li> <li>Node-Dev</li> <li>AI-Session</li> <li> <p>Production</p> </li> <li> <p>Verify integration is loaded:    <pre><code>typeset -f _iterm_detect_context\n# Should show function definition\n</code></pre></p> </li> <li> <p>If not loaded, source it:    <pre><code>source ~/.config/zsh/.zshrc\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#title-not-showing","title":"Title Not Showing","text":"<p>Symptom: Tab shows \"zsh\" or directory instead of icon + name.</p> <p>Check:</p> <ol> <li>iTerm2 title setting:</li> <li>Settings \u2192 Profiles \u2192 General \u2192 Title</li> <li> <p>Set to: Session Name</p> </li> <li> <p>OMZ auto-title disabled:    <pre><code>echo $DISABLE_AUTO_TITLE\n# Should show: true\n</code></pre></p> </li> <li> <p>If not set, add before antidote/OMZ in .zshrc:    <pre><code>DISABLE_AUTO_TITLE=\"true\"\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#title-shows-briefly-then-disappears","title":"Title Shows Briefly Then Disappears","text":"<p>Symptom: Title flashes correct value then changes.</p> <p>Cause: Something else is overwriting the title (usually OMZ).</p> <p>Fix: Ensure <code>DISABLE_AUTO_TITLE=\"true\"</code> is set before plugins load.</p>"},{"location":"reference/troubleshooting/#loops-terminal-hangs","title":"Loops / Terminal Hangs","text":"<p>Symptom: Terminal freezes after <code>cd</code>.</p> <p>Fix:</p> <ol> <li> <p>Disable integration temporarily:    <pre><code># Comment out in .zshrc\n# source ~/path/to/iterm2-integration.zsh\n</code></pre></p> </li> <li> <p>Open new terminal</p> </li> <li> <p>Check for conflicting hooks:    <pre><code>echo $chpwd_functions\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#wrong-profile-detected","title":"Wrong Profile Detected","text":"<p>Symptom: Shows R-Dev but it's a Python project.</p> <p>Cause: Detection priority - R is checked before Python.</p> <p>Check: Does the directory have a <code>DESCRIPTION</code> file?</p> <pre><code>ls DESCRIPTION\n</code></pre> <p>If yes, R detection wins. This is by design for R packages with Python scripts.</p>"},{"location":"reference/troubleshooting/#diagnostic-script","title":"Diagnostic Script","text":"<p>Run the included diagnostic:</p> <pre><code>~/path/to/iterm2-context-switcher/scripts/diagnose.sh\n</code></pre>"},{"location":"reference/troubleshooting/#reset-everything","title":"Reset Everything","text":"<p>If all else fails:</p> <pre><code># 1. Comment out integration in .zshrc\n# 2. Restart terminal\n# 3. Clear caches\nunset _ITERM_CURRENT_PROFILE\nunset _ITERM_CURRENT_TITLE\nunset _ITERM_HOOK_REGISTERED\n\n# 4. Re-source\nsource ~/.config/zsh/.zshrc\n</code></pre>"}]}